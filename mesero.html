<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Pedidos - Restaurante</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 15px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            text-align: center;
            color: #2c3e50;
            font-size: 1.8rem;
            margin-bottom: 15px;
        }

        .info-row {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            align-items: center;
        }

        .info-row input, .info-row select {
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            flex: 1;
        }

        .info-row label {
            font-weight: bold;
            min-width: 60px;
            color: #2c3e50;
        }

        .tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 5px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .tab.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .menu-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .section-header h3 {
            color: #2c3e50;
            font-size: 1.4rem;
            border-bottom: 2px solid #667eea;
            padding-bottom: 5px;
        }

        .edit-btn {
            background: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .edit-btn:hover {
            background: #2980b9;
            transform: translateY(-1px);
        }

        .menu-config {
            display: none;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border: 2px dashed #3498db;
        }

        .menu-config.active {
            display: block;
        }

        .config-row {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            align-items: center;
            flex-wrap: wrap;
        }

        .config-row input {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            flex: 1;
            min-width: 150px;
        }

        .config-row button {
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 12px;
            cursor: pointer;
            white-space: nowrap;
        }

        .config-row button:hover {
            background: #229954;
        }

        .price-config {
            background: #e8f4f8;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }

        .price-config h5 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .price-row {
            display: grid;
            grid-template-columns: 2fr 1fr auto;
            gap: 10px;
            align-items: center;
            margin-bottom: 8px;
        }

        .price-row label {
            font-weight: 500;
            color: #555;
        }

        .price-row input {
            padding: 6px 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            text-align: right;
        }

        .delete-option {
            background: #e74c3c !important;
        }

        .menu-items {
            display: grid;
            gap: 15px;
        }

        .menu-item {
            background: white;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .menu-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            border-color: #667eea;
        }

        .menu-item.combo {
            background: linear-gradient(135deg, #fff 0%, #f0f4ff 100%);
            border: 2px solid #667eea;
        }

        .menu-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .menu-item h4 {
            color: #2c3e50;
            font-size: 1.2rem;
            margin: 0;
        }

        .price {
            color: #e74c3c;
            font-weight: bold;
            font-size: 1.3rem;
        }

        .combo-badge {
            background: #f39c12;
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-left: 10px;
        }

        .menu-options {
            margin: 10px 0;
        }

        .option-checkbox {
            margin-bottom: 8px;
        }

        .option-checkbox input {
            margin-right: 8px;
        }

        .option-checkbox label {
            cursor: pointer;
            user-select: none;
        }

        .combo-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }

        .combo-select {
            padding: 8px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
        }

        .combo-select:focus {
            outline: none;
            border-color: #667eea;
        }

        .cantidad-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .cantidad-btn {
            background: #667eea;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            font-size: 20px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .cantidad-btn:hover {
            background: #5a6fd8;
            transform: scale(1.1);
        }

        .cantidad-display {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2c3e50;
            min-width: 40px;
            text-align: center;
        }

        .option-list {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            margin-top: 10px;
        }

        .option-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 5px 0;
        }

        .option-item button {
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 4px 8px;
            cursor: pointer;
            font-size: 12px;
        }

        .bebidas-section {
            background: #f0f4ff;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }

        .bebidas-section h5 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .bebida-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
        }

        .bebida-option {
            background: white;
            padding: 8px;
            border-radius: 6px;
            border: 2px solid #e0e0e0;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }

        .bebida-option:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .bebida-option.selected {
            border-color: #667eea;
            background: #e8efff;
        }

        .pedido-actual {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .pedido-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
            margin-bottom: 10px;
            background: white;
            border-radius: 8px;
        }

        .pedido-item:last-child {
            margin-bottom: 0;
        }

        .pedido-info {
            flex: 1;
        }

        .pedido-actions {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .delete-btn {
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .delete-btn:hover {
            background: #c0392b;
            transform: scale(1.1);
        }

        .total {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2c3e50;
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 12px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 18px 25px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-bottom: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
        }

        .btn-danger {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .ventas-summary {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .venta-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            margin-bottom: 10px;
            background: white;
        }

        .venta-info {
            flex: 1;
        }

        .venta-actions {
            display: flex;
            gap: 8px;
        }

        .btn-small {
            padding: 8px 15px;
            font-size: 0.9rem;
            border-radius: 8px;
            min-width: auto;
            margin: 0;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .info-row {
                flex-direction: column;
                align-items: stretch;
            }

            .info-row label {
                min-width: auto;
                margin-bottom: 5px;
            }

            .combo-options {
                grid-template-columns: 1fr;
            }

            .config-row {
                flex-direction: column;
                align-items: stretch;
            }

            .bebida-options {
                grid-template-columns: 1fr;
            }

            .price-row {
                grid-template-columns: 1fr;
                gap: 5px;
            }

            .pedido-item {
                flex-direction: column;
                align-items: stretch;
                gap: 10px;
            }

            .pedido-actions {
                justify-content: space-between;
            }

            .venta-item {
                flex-direction: column;
                align-items: stretch;
                gap: 10px;
            }

            .venta-actions {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üçΩÔ∏è Sistema de Pedidos</h1>
            <div class="info-row">
                <label>Mesero:</label>
                <input type="text" id="meseroNombre" placeholder="Tu nombre" value="Mesero">
            </div>
            <div class="info-row">
                <label>Mesa:</label>
                <select id="mesaSelect">
                    <option value="1">Mesa 1</option>
                    <option value="2">Mesa 2</option>
                    <option value="3">Mesa 3</option>
                    <option value="4">Mesa 4</option>
                    <option value="5">Mesa 5</option>
                    <option value="6">Mesa 6</option>
                    <option value="7">Mesa 7</option>
                    <option value="8">Mesa 8</option>
                    <option value="9">Mesa 9</option>
                    <option value="10">Mesa 10</option>
                </select>
            </div>
            <div class="info-row">
                <label>Fecha:</label>
                <input type="date" id="fecha" value="">
                <input type="time" id="hora" value="">
            </div>
        </div>

        <div class="tabs">
            <div class="tab active" onclick="cambiarTab('desayuno', event)">üåÖ Desayuno</div>
            <div class="tab" onclick="cambiarTab('almuerzo', event)">üçΩÔ∏è Almuerzo</div>
            <div class="tab" onclick="cambiarTab('ventas', event)">üí∞ Ventas</div>
        </div>

        <!-- DESAYUNO -->
        <div id="desayuno-tab" class="tab-content active">
            <!-- Configuraci√≥n de Bebidas -->
            <div class="menu-section">
                <div class="section-header">
                    <h3>ü•§ Bebidas Disponibles</h3>
                    <button class="edit-btn" onclick="toggleConfig('bebidas')">Editar</button>
                </div>
                <div id="bebidas-config" class="menu-config">
                    <div class="config-row">
                        <input type="text" id="nueva-bebida" placeholder="Nombre de la bebida">
                        <button onclick="agregarBebida()">Agregar</button>
                    </div>
                    <div id="bebidas-list" class="option-list"></div>
                </div>
            </div>

            <!-- Caldos -->
            <div class="menu-section">
                <div class="section-header">
                    <h3>üç≤ Caldos del D√≠a</h3>
                    <button class="edit-btn" onclick="toggleConfig('caldos')">Editar</button>
                </div>
                <div id="caldos-config" class="menu-config">
                    <div class="config-row">
                        <input type="text" id="nuevo-caldo" placeholder="Nombre del caldo">
                        <button onclick="agregarCaldo()">Agregar</button>
                    </div>
                    <div id="caldos-list" class="option-list"></div>
                    
                    <div class="price-config">
                        <h5>Configuraci√≥n de Precios - Caldos</h5>
                        <div class="price-row">
                            <label>Caldo solo:</label>
                            <input type="number" id="precio-caldo-solo" value="8000">
                            <button onclick="actualizarPreciosCaldo()">Actualizar</button>
                        </div>
                        <div class="price-row">
                            <label>Caldo + Bebida:</label>
                            <input type="number" id="precio-caldo-bebida" value="10000">
                            <button onclick="actualizarPreciosCaldo()">Actualizar</button>
                        </div>
                    </div>
                </div>
                <div id="caldos-menu" class="menu-items"></div>
            </div>

            <!-- Bandejas Desayuno -->
            <div class="menu-section">
                <div class="section-header">
                    <h3>üç≥ Bandejas de Desayuno</h3>
                    <button class="edit-btn" onclick="toggleConfig('bandejas-desayuno')">Editar</button>
                </div>
                <div id="bandejas-desayuno-config" class="menu-config">
                    <h4>Tipos de Huevos:</h4>
                    <div class="config-row">
                        <input type="text" id="nuevo-huevo" placeholder="Tipo de huevo">
                        <button onclick="agregarHuevo()">Agregar</button>
                    </div>
                    <div id="huevos-list" class="option-list"></div>
                    
                    <h4 style="margin-top: 15px;">Tipos de Carne:</h4>
                    <div class="config-row">
                        <input type="text" id="nueva-carne-desayuno" placeholder="Tipo de carne">
                        <button onclick="agregarCarneDesayuno()">Agregar</button>
                    </div>
                    <div id="carnes-desayuno-list" class="option-list"></div>
                    
                    <div class="price-config">
                        <h5>Configuraci√≥n de Precios - Bandejas</h5>
                        <div class="price-row">
                            <label>Bandeja sola:</label>
                            <input type="number" id="precio-bandeja-desayuno-solo" value="12000">
                            <button onclick="actualizarPreciosBandejaDesayuno()">Actualizar</button>
                        </div>
                        <div class="price-row">
                            <label>Bandeja + Bebida:</label>
                            <input type="number" id="precio-bandeja-desayuno-bebida" value="14000">
                            <button onclick="actualizarPreciosBandejaDesayuno()">Actualizar</button>
                        </div>
                    </div>
                </div>
                <div id="bandejas-desayuno-menu" class="menu-items"></div>
            </div>

            <!-- Combos Desayuno -->
            <div class="menu-section">
                <div class="section-header">
                    <h3>üéØ Combos Especiales</h3>
                    <button class="edit-btn" onclick="toggleConfig('combos-desayuno')">Editar</button>
                </div>
                <div id="combos-desayuno-config" class="menu-config">
                    <div class="price-config">
                        <h5>Configuraci√≥n de Precios - Combos</h5>
                        <div class="price-row">
                            <label>Caldo + Bandeja:</label>
                            <input type="number" id="precio-combo-desayuno" value="18000">
                            <button onclick="actualizarPrecioComboDesayuno()">Actualizar</button>
                        </div>
                    </div>
                </div>
                <div id="combos-desayuno-menu" class="menu-items"></div>
            </div>
        </div>

        <!-- ALMUERZO -->
        <div id="almuerzo-tab" class="tab-content">
            <!-- Sopas -->
            <div class="menu-section">
                <div class="section-header">
                    <h3>üçú Sopa del D√≠a</h3>
                    <button class="edit-btn" onclick="toggleConfig('sopas')">Editar</button>
                </div>
                <div id="sopas-config" class="menu-config">
                    <div class="config-row">
                        <input type="text" id="nueva-sopa" placeholder="Nombre de la sopa">
                        <button onclick="agregarSopa()">Agregar</button>
                    </div>
                    <div id="sopas-list" class="option-list"></div>
                    
                    <div class="price-config">
                        <h5>Configuraci√≥n de Precios - Sopas</h5>
                        <div class="price-row">
                            <label>Sopa sola:</label>
                            <input type="number" id="precio-sopa-solo" value="10000">
                            <button onclick="actualizarPreciosSopa()">Actualizar</button>
                        </div>
                        <div class="price-row">
                            <label>Sopa + Bebida:</label>
                            <input type="number" id="precio-sopa-bebida" value="12000">
                            <button onclick="actualizarPreciosSopa()">Actualizar</button>
                        </div>
                    </div>
                </div>
                <div id="sopas-menu" class="menu-items"></div>
            </div>

            <!-- Bandejas Almuerzo -->
            <div class="menu-section">
                <div class="section-header">
                    <h3>üçõ Bandejas de Almuerzo</h3>
                    <button class="edit-btn" onclick="toggleConfig('bandejas-almuerzo')">Editar</button>
                </div>
                <div id="bandejas-almuerzo-config" class="menu-config">
                    <h4>Principios (Verduras/Granos):</h4>
                    <div class="config-row">
                        <input type="text" id="nuevo-principio" placeholder="Arroz, frijoles, etc.">
                        <button onclick="agregarPrincipio()">Agregar</button>
                    </div>
                    <div id="principios-list" class="option-list"></div>
                    
                    <h4 style="margin-top: 15px;">Prote√≠nas:</h4>
                    <div class="config-row">
                        <input type="text" id="nueva-proteina" placeholder="Pollo, carne, etc.">
                        <button onclick="agregarProteina()">Agregar</button>
                    </div>
                    <div id="proteinas-list" class="option-list"></div>
                    
                    <div class="price-config">
                        <h5>Configuraci√≥n de Precios - Bandejas</h5>
                        <div class="price-row">
                            <label>Bandeja sola:</label>
                            <input type="number" id="precio-bandeja-almuerzo-solo" value="15000">
                            <button onclick="actualizarPreciosBandejaAlmuerzo()">Actualizar</button>
                        </div>
                        <div class="price-row">
                            <label>Bandeja + Bebida:</label>
                            <input type="number" id="precio-bandeja-almuerzo-bebida" value="17000">
                            <button onclick="actualizarPreciosBandejaAlmuerzo()">Actualizar</button>
                        </div>
                    </div>
                </div>
                <div id="bandejas-almuerzo-menu" class="menu-items"></div>
            </div>

            <!-- Combos Almuerzo -->
            <div class="menu-section">
                <div class="section-header">
                    <h3>üéØ Combos Especiales</h3>
                    <button class="edit-btn" onclick="toggleConfig('combos-almuerzo')">Editar</button>
                </div>
                <div id="combos-almuerzo-config" class="menu-config">
                    <div class="price-config">
                        <h5>Configuraci√≥n de Precios - Combos</h5>
                        <div class="price-row">
                            <label>Sopa + Bandeja:</label>
                            <input type="number" id="precio-combo-almuerzo" value="22000">
                            <button onclick="actualizarPrecioComboAlmuerzo()">Actualizar</button>
                        </div>
                    </div>
                </div>
                <div id="combos-almuerzo-menu" class="menu-items"></div>
            </div>
        </div>

        <!-- VENTAS -->
        <div id="ventas-tab" class="tab-content">
            <div class="ventas-summary">
                <h3>üìä Resumen de Ventas</h3>
                <div class="total">
                    Total del D√≠a: $<span id="totalDia">0</span>
                </div>
                <p style="text-align: center; font-size: 1.2rem; margin-top: 10px;">
                    Total de Pedidos: <span id="totalPedidos">0</span>
                </p>
            </div>

            <div class="ventas-summary">
                <h3>üßæ Pedidos Realizados</h3>
                <div id="listaPedidos"></div>
                <button class="btn btn-danger" onclick="limpiarVentas()">üóëÔ∏è Limpiar Todas las Ventas</button>
            </div>
        </div>

        <!-- PEDIDO ACTUAL -->
        <div class="pedido-actual">
            <h3>üìã Pedido Actual - Mesa <span id="mesaActual">1</span></h3>
            <div id="pedidoItems"></div>
            <div class="total">
                Total: $<span id="totalPedido">0</span>
            </div>
            <button class="btn" onclick="confirmarPedido()">‚úÖ Confirmar Pedido</button>
            <button class="btn btn-secondary" onclick="limpiarPedido()">üóëÔ∏è Limpiar Pedido</button>
        </div>
    </div>

    <script>
        // Variables globales
        let pedidoActual = [];
        let ventas = [];
        let totalDia = 0;
        let cantidades = {};

        // Datos del men√∫
        let menuData = {
            bebidas: ['Jugo Natural', 'Gaseosa', 'Caf√©', 'Chocolate'],
            caldos: [],
            sopas: [],
            huevos: ['Revueltos', 'Fritos', 'Pericos'],
            carnesDesayuno: ['Salchicha', 'Tocineta', 'Chorizo'],
            principios: ['Arroz blanco', 'Frijoles', 'Lentejas', 'Pasta'],
            proteinas: ['Pollo asado', 'Carne asada', 'Pescado frito', 'Cerdo'],
            precios: {
                caldoSolo: 8000,
                caldoBebida: 10000,
                sopaSolo: 10000,
                sopaBebida: 12000,
                bandejaDesayunoSolo: 12000,
                bandejaDesayunoBebida: 14000,
                bandejaAlmuerzoSolo: 15000,
                bandejaAlmuerzoBebida: 17000,
                comboDesayuno: 18000,
                comboAlmuerzo: 22000
            }
        };

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('fecha').value = new Date().toISOString().split('T')[0];
            document.getElementById('hora').value = new Date().toTimeString().split(' ')[0].substring(0, 5);
            
            // Actualizar mesa actual
            document.getElementById('mesaSelect').addEventListener('change', function() {
                document.getElementById('mesaActual').textContent = this.value;
            });

            inicializarMenus();
            actualizarPedido();
            renderizarListas();
            actualizarMenusPrincipales();
        });

        function inicializarMenus() {
            // Inicializar valores de precios en los inputs
            document.getElementById('precio-caldo-solo').value = menuData.precios.caldoSolo;
            document.getElementById('precio-caldo-bebida').value = menuData.precios.caldoBebida;
            document.getElementById('precio-sopa-solo').value = menuData.precios.sopaSolo;
            document.getElementById('precio-sopa-bebida').value = menuData.precios.sopaBebida;
            document.getElementById('precio-bandeja-desayuno-solo').value = menuData.precios.bandejaDesayunoSolo;
            document.getElementById('precio-bandeja-desayuno-bebida').value = menuData.precios.bandejaDesayunoBebida;
            document.getElementById('precio-bandeja-almuerzo-solo').value = menuData.precios.bandejaAlmuerzoSolo;
            document.getElementById('precio-bandeja-almuerzo-bebida').value = menuData.precios.bandejaAlmuerzoBebida;
            document.getElementById('precio-combo-desayuno').value = menuData.precios.comboDesayuno;
            document.getElementById('precio-combo-almuerzo').value = menuData.precios.comboAlmuerzo;
        }

        function cambiarTab(tab, event) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            
            event.currentTarget.classList.add('active');
            document.getElementById(tab + '-tab').classList.add('active');
        }

        function toggleConfig(section) {
            const config = document.getElementById(section + '-config');
            config.classList.toggle('active');
        }

        function cambiarCantidad(tipo, delta) {
            cantidades[tipo] = Math.max(1, (cantidades[tipo] || 1) + delta);
            document.getElementById('cantidad-' + tipo).textContent = cantidades[tipo];
        }

        // Funciones para bebidas
        function agregarBebida() {
            const nombre = document.getElementById('nueva-bebida').value.trim();
            if (nombre && !menuData.bebidas.includes(nombre)) {
                menuData.bebidas.push(nombre);
                renderizarListaBebidas();
                document.getElementById('nueva-bebida').value = '';
            }
        }

        function eliminarBebida(index) {
            menuData.bebidas.splice(index, 1);
            renderizarListaBebidas();
        }

        function renderizarListaBebidas() {
            const container = document.getElementById('bebidas-list');
            container.innerHTML = '';
            
            menuData.bebidas.forEach((bebida, index) => {
                const div = document.createElement('div');
                div.className = 'option-item';
                div.innerHTML = `
                    <span>${bebida}</span>
                    <button onclick="eliminarBebida(${index})">Eliminar</button>
                `;
                container.appendChild(div);
            });
        }

        // Funciones para caldos
        function agregarCaldo() {
            const nombre = document.getElementById('nuevo-caldo').value.trim();
            
            if (nombre) {
                menuData.caldos.push(nombre);
                renderizarCaldos();
                renderizarListaCaldos();
                renderizarCombosDesayuno();
                document.getElementById('nuevo-caldo').value = '';
            }
        }

        function eliminarCaldo(index) {
            menuData.caldos.splice(index, 1);
            renderizarCaldos();
            renderizarListaCaldos();
            renderizarCombosDesayuno();
        }

        function renderizarListaCaldos() {
            const container = document.getElementById('caldos-list');
            container.innerHTML = '';
            
            menuData.caldos.forEach((caldo, index) => {
                const div = document.createElement('div');
                div.className = 'option-item';
                div.innerHTML = `
                    <span>${caldo}</span>
                    <button onclick="eliminarCaldo(${index})">Eliminar</button>
                `;
                container.appendChild(div);
            });
        }

        function renderizarCaldos() {
            const container = document.getElementById('caldos-menu');
            container.innerHTML = '';
            
            menuData.caldos.forEach((caldo, index) => {
                // Caldo solo
                const divSolo = document.createElement('div');
                divSolo.className = 'menu-item';
                divSolo.innerHTML = `
                    <div class="menu-item-header">
                        <h4>${caldo}</h4>
                        <div class="price">${menuData.precios.caldoSolo.toLocaleString()}</div>
                    </div>
                    <div class="cantidad-controls">
                        <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('caldo-solo-${index}', -1)">-</button>
                        <span class="cantidad-display" id="cantidad-caldo-solo-${index}">1</span>
                        <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('caldo-solo-${index}', 1)">+</button>
                    </div>
                `;
                divSolo.onclick = () => {
                    const cantidad = cantidades['caldo-solo-' + index] || 1;
                    agregarItem(`${caldo} (Solo)`, menuData.precios.caldoSolo, 'Caldo', '', cantidad);
                    cantidades['caldo-solo-' + index] = 1;
                    document.getElementById('cantidad-caldo-solo-' + index).textContent = '1';
                };
                container.appendChild(divSolo);

                // Caldo con bebida
                const divBebida = document.createElement('div');
                divBebida.className = 'menu-item';
                divBebida.innerHTML = `
                    <div class="menu-item-header">
                        <h4>${caldo} + Bebida</h4>
                        <div class="price">${menuData.precios.caldoBebida.toLocaleString()}</div>
                    </div>
                    <div class="bebidas-section">
                        <h5>Seleccionar bebida:</h5>
                        <div class="bebida-options" id="bebida-caldo-${index}">
                            ${menuData.bebidas.map((bebida, bIndex) => `
                                <div class="bebida-option" onclick="event.stopPropagation(); seleccionarBebida('caldo-${index}', ${bIndex})">${bebida}</div>
                            `).join('')}
                        </div>
                    </div>
                    <div class="cantidad-controls">
                        <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('caldo-bebida-${index}', -1)">-</button>
                        <span class="cantidad-display" id="cantidad-caldo-bebida-${index}">1</span>
                        <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('caldo-bebida-${index}', 1)">+</button>
                    </div>
                `;
                divBebida.onclick = () => agregarCaldoConBebida(caldo, index);
                container.appendChild(divBebida);

                cantidades['caldo-solo-' + index] = 1;
                cantidades['caldo-bebida-' + index] = 1;
            });
        }

        function seleccionarBebida(tipo, bebidaIndex) {
            const container = document.getElementById(`bebida-${tipo}`);
            container.querySelectorAll('.bebida-option').forEach((opt, index) => {
                if (index === bebidaIndex) {
                    opt.classList.add('selected');
                } else {
                    opt.classList.remove('selected');
                }
            });
            container.dataset.selectedBebida = bebidaIndex;
        }

        function agregarCaldoConBebida(caldo, index) {
            const container = document.getElementById(`bebida-caldo-${index}`);
            const selectedIndex = container.dataset.selectedBebida;
            
            if (selectedIndex === undefined) {
                alert('Por favor selecciona una bebida');
                return;
            }
            
            const bebida = menuData.bebidas[selectedIndex];
            const cantidad = cantidades['caldo-bebida-' + index] || 1;
            
            agregarItem(
                `${caldo} + Bebida`,
                menuData.precios.caldoBebida,
                'Caldo',
                bebida,
                cantidad
            );
            
            // Resetear
            cantidades['caldo-bebida-' + index] = 1;
            document.getElementById('cantidad-caldo-bebida-' + index).textContent = '1';
            container.dataset.selectedBebida = undefined;
            container.querySelectorAll('.bebida-option').forEach(opt => opt.classList.remove('selected'));
        }

        // Funciones para sopas
        function agregarSopa() {
            const nombre = document.getElementById('nueva-sopa').value.trim();
            
            if (nombre) {
                menuData.sopas.push(nombre);
                renderizarSopas();
                renderizarListaSopas();
                renderizarCombosAlmuerzo();
                document.getElementById('nueva-sopa').value = '';
            }
        }

        function eliminarSopa(index) {
            menuData.sopas.splice(index, 1);
            renderizarSopas();
            renderizarListaSopas();
            renderizarCombosAlmuerzo();
        }

        function renderizarListaSopas() {
            const container = document.getElementById('sopas-list');
            container.innerHTML = '';
            
            menuData.sopas.forEach((sopa, index) => {
                const div = document.createElement('div');
                div.className = 'option-item';
                div.innerHTML = `
                    <span>${sopa}</span>
                    <button onclick="eliminarSopa(${index})">Eliminar</button>
                `;
                container.appendChild(div);
            });
        }

        function renderizarSopas() {
            const container = document.getElementById('sopas-menu');
            container.innerHTML = '';
            
            menuData.sopas.forEach((sopa, index) => {
                // Sopa sola
                const divSolo = document.createElement('div');
                divSolo.className = 'menu-item';
                divSolo.innerHTML = `
                    <div class="menu-item-header">
                        <h4>${sopa}</h4>
                        <div class="price">${menuData.precios.sopaSolo.toLocaleString()}</div>
                    </div>
                    <div class="cantidad-controls">
                        <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('sopa-solo-${index}', -1)">-</button>
                        <span class="cantidad-display" id="cantidad-sopa-solo-${index}">1</span>
                        <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('sopa-solo-${index}', 1)">+</button>
                    </div>
                `;
                divSolo.onclick = () => {
                    const cantidad = cantidades['sopa-solo-' + index] || 1;
                    agregarItem(`${sopa} (Solo)`, menuData.precios.sopaSolo, 'Sopa', '', cantidad);
                    cantidades['sopa-solo-' + index] = 1;
                    document.getElementById('cantidad-sopa-solo-' + index).textContent = '1';
                };
                container.appendChild(divSolo);

                // Sopa con bebida
                const divBebida = document.createElement('div');
                divBebida.className = 'menu-item';
                divBebida.innerHTML = `
                    <div class="menu-item-header">
                        <h4>${sopa} + Bebida</h4>
                        <div class="price">${menuData.precios.sopaBebida.toLocaleString()}</div>
                    </div>
                    <div class="bebidas-section">
                        <h5>Seleccionar bebida:</h5>
                        <div class="bebida-options" id="bebida-sopa-${index}">
                            ${menuData.bebidas.map((bebida, bIndex) => `
                                <div class="bebida-option" onclick="event.stopPropagation(); seleccionarBebida('sopa-${index}', ${bIndex})">${bebida}</div>
                            `).join('')}
                        </div>
                    </div>
                    <div class="cantidad-controls">
                        <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('sopa-bebida-${index}', -1)">-</button>
                        <span class="cantidad-display" id="cantidad-sopa-bebida-${index}">1</span>
                        <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('sopa-bebida-${index}', 1)">+</button>
                    </div>
                `;
                divBebida.onclick = () => agregarSopaConBebida(sopa, index);
                container.appendChild(divBebida);

                cantidades['sopa-solo-' + index] = 1;
                cantidades['sopa-bebida-' + index] = 1;
            });
        }

        function agregarSopaConBebida(sopa, index) {
            const container = document.getElementById(`bebida-sopa-${index}`);
            const selectedIndex = container.dataset.selectedBebida;
            
            if (selectedIndex === undefined) {
                alert('Por favor selecciona una bebida');
                return;
            }
            
            const bebida = menuData.bebidas[selectedIndex];
            const cantidad = cantidades['sopa-bebida-' + index] || 1;
            
            agregarItem(
                `${sopa} + Bebida`,
                menuData.precios.sopaBebida,
                'Sopa',
                bebida,
                cantidad
            );
            
            // Resetear
            cantidades['sopa-bebida-' + index] = 1;
            document.getElementById('cantidad-sopa-bebida-' + index).textContent = '1';
            container.dataset.selectedBebida = undefined;
            container.querySelectorAll('.bebida-option').forEach(opt => opt.classList.remove('selected'));
        }

        // Funciones para opciones de bandejas
        function agregarHuevo() {
            const huevo = document.getElementById('nuevo-huevo').value.trim();
            if (huevo && !menuData.huevos.includes(huevo)) {
                menuData.huevos.push(huevo);
                renderizarListaHuevos();
                renderizarBandejasDesayuno();
                renderizarCombosDesayuno();
                document.getElementById('nuevo-huevo').value = '';
            }
        }

        function eliminarHuevo(index) {
            menuData.huevos.splice(index, 1);
            renderizarListaHuevos();
            renderizarBandejasDesayuno();
            renderizarCombosDesayuno();
        }

        function renderizarListaHuevos() {
            const container = document.getElementById('huevos-list');
            container.innerHTML = '';
            
            menuData.huevos.forEach((huevo, index) => {
                const div = document.createElement('div');
                div.className = 'option-item';
                div.innerHTML = `
                    <span>${huevo}</span>
                    <button onclick="eliminarHuevo(${index})">Eliminar</button>
                `;
                container.appendChild(div);
            });
        }

        function agregarCarneDesayuno() {
            const carne = document.getElementById('nueva-carne-desayuno').value.trim();
            if (carne && !menuData.carnesDesayuno.includes(carne)) {
                menuData.carnesDesayuno.push(carne);
                renderizarListaCarnesDesayuno();
                renderizarBandejasDesayuno();
                renderizarCombosDesayuno();
                document.getElementById('nueva-carne-desayuno').value = '';
            }
        }

        function eliminarCarneDesayuno(index) {
            menuData.carnesDesayuno.splice(index, 1);
            renderizarListaCarnesDesayuno();
            renderizarBandejasDesayuno();
            renderizarCombosDesayuno();
        }

        function renderizarListaCarnesDesayuno() {
            const container = document.getElementById('carnes-desayuno-list');
            container.innerHTML = '';
            
            menuData.carnesDesayuno.forEach((carne, index) => {
                const div = document.createElement('div');
                div.className = 'option-item';
                div.innerHTML = `
                    <span>${carne}</span>
                    <button onclick="eliminarCarneDesayuno(${index})">Eliminar</button>
                `;
                container.appendChild(div);
            });
        }

        function agregarPrincipio() {
            const principio = document.getElementById('nuevo-principio').value.trim();
            if (principio && !menuData.principios.includes(principio)) {
                menuData.principios.push(principio);
                renderizarListaPrincipios();
                renderizarBandejasAlmuerzo();
                renderizarCombosAlmuerzo();
                document.getElementById('nuevo-principio').value = '';
            }
        }

        function eliminarPrincipio(index) {
            menuData.principios.splice(index, 1);
            renderizarListaPrincipios();
            renderizarBandejasAlmuerzo();
            renderizarCombosAlmuerzo();
        }

        function renderizarListaPrincipios() {
            const container = document.getElementById('principios-list');
            container.innerHTML = '';
            
            menuData.principios.forEach((principio, index) => {
                const div = document.createElement('div');
                div.className = 'option-item';
                div.innerHTML = `
                    <span>${principio}</span>
                    <button onclick="eliminarPrincipio(${index})">Eliminar</button>
                `;
                container.appendChild(div);
            });
        }

        function agregarProteina() {
            const proteina = document.getElementById('nueva-proteina').value.trim();
            if (proteina && !menuData.proteinas.includes(proteina)) {
                menuData.proteinas.push(proteina);
                renderizarListaProteinas();
                renderizarBandejasAlmuerzo();
                renderizarCombosAlmuerzo();
                document.getElementById('nueva-proteina').value = '';
            }
        }

        function eliminarProteina(index) {
            menuData.proteinas.splice(index, 1);
            renderizarListaProteinas();
            renderizarBandejasAlmuerzo();
            renderizarCombosAlmuerzo();
        }

        function renderizarListaProteinas() {
            const container = document.getElementById('proteinas-list');
            container.innerHTML = '';
            
            menuData.proteinas.forEach((proteina, index) => {
                const div = document.createElement('div');
                div.className = 'option-item';
                div.innerHTML = `
                    <span>${proteina}</span>
                    <button onclick="eliminarProteina(${index})">Eliminar</button>
                `;
                container.appendChild(div);
            });
        }

        function renderizarListas() {
            renderizarListaBebidas();
            renderizarListaCaldos();
            renderizarListaSopas();
            renderizarListaHuevos();
            renderizarListaCarnesDesayuno();
            renderizarListaPrincipios();
            renderizarListaProteinas();
        }

        // Funciones de actualizaci√≥n de precios
        function actualizarPreciosCaldo() {
            menuData.precios.caldoSolo = parseInt(document.getElementById('precio-caldo-solo').value) || 8000;
            menuData.precios.caldoBebida = parseInt(document.getElementById('precio-caldo-bebida').value) || 10000;
            renderizarCaldos();
            alert('Precios de caldos actualizados');
        }

        function actualizarPreciosSopa() {
            menuData.precios.sopaSolo = parseInt(document.getElementById('precio-sopa-solo').value) || 10000;
            menuData.precios.sopaBebida = parseInt(document.getElementById('precio-sopa-bebida').value) || 12000;
            renderizarSopas();
            alert('Precios de sopas actualizados');
        }

        function actualizarPreciosBandejaDesayuno() {
            menuData.precios.bandejaDesayunoSolo = parseInt(document.getElementById('precio-bandeja-desayuno-solo').value) || 12000;
            menuData.precios.bandejaDesayunoBebida = parseInt(document.getElementById('precio-bandeja-desayuno-bebida').value) || 14000;
            renderizarBandejasDesayuno();
            alert('Precios de bandejas de desayuno actualizados');
        }

        function actualizarPreciosBandejaAlmuerzo() {
            menuData.precios.bandejaAlmuerzoSolo = parseInt(document.getElementById('precio-bandeja-almuerzo-solo').value) || 15000;
            menuData.precios.bandejaAlmuerzoBebida = parseInt(document.getElementById('precio-bandeja-almuerzo-bebida').value) || 17000;
            renderizarBandejasAlmuerzo();
            alert('Precios de bandejas de almuerzo actualizados');
        }

        function actualizarPrecioComboDesayuno() {
            menuData.precios.comboDesayuno = parseInt(document.getElementById('precio-combo-desayuno').value) || 18000;
            renderizarCombosDesayuno();
            alert('Precio del combo de desayuno actualizado');
        }

        function actualizarPrecioComboAlmuerzo() {
            menuData.precios.comboAlmuerzo = parseInt(document.getElementById('precio-combo-almuerzo').value) || 22000;
            renderizarCombosAlmuerzo();
            alert('Precio del combo de almuerzo actualizado');
        }

        // Renderizar bandejas
        function renderizarBandejasDesayuno() {
            const container = document.getElementById('bandejas-desayuno-menu');
            container.innerHTML = '';
            
            // Bandeja sola
            const divSolo = document.createElement('div');
            divSolo.className = 'menu-item';
            divSolo.id = 'bandeja-desayuno-solo';
            divSolo.innerHTML = `
                <div class="menu-item-header">
                    <h4>Bandeja de Desayuno</h4>
                    <div class="price">${menuData.precios.bandejaDesayunoSolo.toLocaleString()}</div>
                </div>
                <div class="combo-options">
                    <select id="huevo-select-solo" class="combo-select" onclick="event.stopPropagation()">
                        <option value="">Seleccionar huevo</option>
                        ${menuData.huevos.map(h => `<option value="${h}">${h}</option>`).join('')}
                    </select>
                    <select id="carne-select-solo" class="combo-select" onclick="event.stopPropagation()">
                        <option value="">Seleccionar carne</option>
                        ${menuData.carnesDesayuno.map(c => `<option value="${c}">${c}</option>`).join('')}
                    </select>
                </div>
                <div class="cantidad-controls">
                    <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('bandeja-desayuno-solo', -1)">-</button>
                    <span class="cantidad-display" id="cantidad-bandeja-desayuno-solo">1</span>
                    <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('bandeja-desayuno-solo', 1)">+</button>
                </div>
            `;
            divSolo.onclick = () => seleccionarBandejaDesayuno('solo');
            container.appendChild(divSolo);

            // Bandeja con bebida
            const divBebida = document.createElement('div');
            divBebida.className = 'menu-item';
            divBebida.innerHTML = `
                <div class="menu-item-header">
                    <h4>Bandeja de Desayuno + Bebida</h4>
                    <div class="price">${menuData.precios.bandejaDesayunoBebida.toLocaleString()}</div>
                </div>
                <div class="combo-options">
                    <select id="huevo-select-bebida" class="combo-select" onclick="event.stopPropagation()">
                        <option value="">Seleccionar huevo</option>
                        ${menuData.huevos.map(h => `<option value="${h}">${h}</option>`).join('')}
                    </select>
                    <select id="carne-select-bebida" class="combo-select" onclick="event.stopPropagation()">
                        <option value="">Seleccionar carne</option>
                        ${menuData.carnesDesayuno.map(c => `<option value="${c}">${c}</option>`).join('')}
                    </select>
                </div>
                <div class="bebidas-section">
                    <h5>Seleccionar bebida:</h5>
                    <div class="bebida-options" id="bebida-bandeja-desayuno">
                        ${menuData.bebidas.map((bebida, index) => `
                            <div class="bebida-option" onclick="event.stopPropagation(); seleccionarBebida('bandeja-desayuno', ${index})">${bebida}</div>
                        `).join('')}
                    </div>
                </div>
                <div class="cantidad-controls">
                    <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('bandeja-desayuno-bebida', -1)">-</button>
                    <span class="cantidad-display" id="cantidad-bandeja-desayuno-bebida">1</span>
                    <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('bandeja-desayuno-bebida', 1)">+</button>
                </div>
            `;
            divBebida.onclick = () => seleccionarBandejaDesayuno('bebida');
            container.appendChild(divBebida);

            cantidades['bandeja-desayuno-solo'] = 1;
            cantidades['bandeja-desayuno-bebida'] = 1;
        }

        function renderizarBandejasAlmuerzo() {
            const container = document.getElementById('bandejas-almuerzo-menu');
            container.innerHTML = '';
            
            // Bandeja sola
            const divSolo = document.createElement('div');
            divSolo.className = 'menu-item';
            divSolo.innerHTML = `
                <div class="menu-item-header">
                    <h4>Bandeja de Almuerzo</h4>
                    <div class="price">${menuData.precios.bandejaAlmuerzoSolo.toLocaleString()}</div>
                </div>
                <div class="combo-options">
                    <select id="principio-select-solo" class="combo-select" onclick="event.stopPropagation()">
                        <option value="">Seleccionar principio</option>
                        ${menuData.principios.map(p => `<option value="${p}">${p}</option>`).join('')}
                    </select>
                    <select id="proteina-select-solo" class="combo-select" onclick="event.stopPropagation()">
                        <option value="">Seleccionar prote√≠na</option>
                        ${menuData.proteinas.map(p => `<option value="${p}">${p}</option>`).join('')}
                    </select>
                </div>
                <div class="cantidad-controls">
                    <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('bandeja-almuerzo-solo', -1)">-</button>
                    <span class="cantidad-display" id="cantidad-bandeja-almuerzo-solo">1</span>
                    <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('bandeja-almuerzo-solo', 1)">+</button>
                </div>
            `;
            divSolo.onclick = () => seleccionarBandejaAlmuerzo('solo');
            container.appendChild(divSolo);

            // Bandeja con bebida
            const divBebida = document.createElement('div');
            divBebida.className = 'menu-item';
            divBebida.innerHTML = `
                <div class="menu-item-header">
                    <h4>Bandeja de Almuerzo + Bebida</h4>
                    <div class="price">${menuData.precios.bandejaAlmuerzoBebida.toLocaleString()}</div>
                </div>
                <div class="combo-options">
                    <select id="principio-select-bebida" class="combo-select" onclick="event.stopPropagation()">
                        <option value="">Seleccionar principio</option>
                        ${menuData.principios.map(p => `<option value="${p}">${p}</option>`).join('')}
                    </select>
                    <select id="proteina-select-bebida" class="combo-select" onclick="event.stopPropagation()">
                        <option value="">Seleccionar prote√≠na</option>
                        ${menuData.proteinas.map(p => `<option value="${p}">${p}</option>`).join('')}
                    </select>
                </div>
                <div class="bebidas-section">
                    <h5>Seleccionar bebida:</h5>
                    <div class="bebida-options" id="bebida-bandeja-almuerzo">
                        ${menuData.bebidas.map((bebida, index) => `
                            <div class="bebida-option" onclick="event.stopPropagation(); seleccionarBebida('bandeja-almuerzo', ${index})">${bebida}</div>
                        `).join('')}
                    </div>
                </div>
                <div class="cantidad-controls">
                    <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('bandeja-almuerzo-bebida', -1)">-</button>
                    <span class="cantidad-display" id="cantidad-bandeja-almuerzo-bebida">1</span>
                    <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('bandeja-almuerzo-bebida', 1)">+</button>
                </div>
            `;
            divBebida.onclick = () => seleccionarBandejaAlmuerzo('bebida');
            container.appendChild(divBebida);

            cantidades['bandeja-almuerzo-solo'] = 1;
            cantidades['bandeja-almuerzo-bebida'] = 1;
        }

        // Renderizar combos
        function renderizarCombosDesayuno() {
            const container = document.getElementById('combos-desayuno-menu');
            container.innerHTML = '';
            
            if (menuData.caldos.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666;">Agrega caldos para ver los combos disponibles</p>';
                return;
            }
            
            menuData.caldos.forEach((caldo, caldoIndex) => {
                const divCombo = document.createElement('div');
                divCombo.className = 'menu-item combo';
                divCombo.innerHTML = `
                    <div class="menu-item-header">
                        <h4>${caldo} + Bandeja<span class="combo-badge">COMBO</span></h4>
                        <div class="price">${menuData.precios.comboDesayuno.toLocaleString()}</div>
                    </div>
                    <div style="margin: 10px 0;">
                        <strong>Incluye:</strong> ${caldo} + Bandeja de Desayuno completa
                    </div>
                    <div class="combo-options">
                        <select id="huevo-combo-${caldoIndex}" class="combo-select" onclick="event.stopPropagation()">
                            <option value="">Seleccionar huevo</option>
                            ${menuData.huevos.map(h => `<option value="${h}">${h}</option>`).join('')}
                        </select>
                        <select id="carne-combo-${caldoIndex}" class="combo-select" onclick="event.stopPropagation()">
                            <option value="">Seleccionar carne</option>
                            ${menuData.carnesDesayuno.map(c => `<option value="${c}">${c}</option>`).join('')}
                        </select>
                    </div>
                    <div class="cantidad-controls">
                        <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('combo-desayuno-${caldoIndex}', -1)">-</button>
                        <span class="cantidad-display" id="cantidad-combo-desayuno-${caldoIndex}">1</span>
                        <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('combo-desayuno-${caldoIndex}', 1)">+</button>
                    </div>
                `;
                divCombo.onclick = () => seleccionarComboDesayuno(caldo, caldoIndex);
                container.appendChild(divCombo);
                
                cantidades['combo-desayuno-' + caldoIndex] = 1;
            });
        }

        function renderizarCombosAlmuerzo() {
            const container = document.getElementById('combos-almuerzo-menu');
            container.innerHTML = '';
            
            if (menuData.sopas.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666;">Agrega sopas para ver los combos disponibles</p>';
                return;
            }
            
            menuData.sopas.forEach((sopa, sopaIndex) => {
                const divCombo = document.createElement('div');
                divCombo.className = 'menu-item combo';
                divCombo.innerHTML = `
                    <div class="menu-item-header">
                        <h4>${sopa} + Bandeja<span class="combo-badge">COMBO</span></h4>
                        <div class="price">${menuData.precios.comboAlmuerzo.toLocaleString()}</div>
                    </div>
                    <div style="margin: 10px 0;">
                        <strong>Incluye:</strong> ${sopa} + Bandeja de Almuerzo completa
                    </div>
                    <div class="combo-options">
                        <select id="principio-combo-${sopaIndex}" class="combo-select" onclick="event.stopPropagation()">
                            <option value="">Seleccionar principio</option>
                            ${menuData.principios.map(p => `<option value="${p}">${p}</option>`).join('')}
                        </select>
                        <select id="proteina-combo-${sopaIndex}" class="combo-select" onclick="event.stopPropagation()">
                            <option value="">Seleccionar prote√≠na</option>
                            ${menuData.proteinas.map(p => `<option value="${p}">${p}</option>`).join('')}
                        </select>
                    </div>
                    <div class="cantidad-controls">
                        <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('combo-almuerzo-${sopaIndex}', -1)">-</button>
                        <span class="cantidad-display" id="cantidad-combo-almuerzo-${sopaIndex}">1</span>
                        <button class="cantidad-btn" onclick="event.stopPropagation(); cambiarCantidad('combo-almuerzo-${sopaIndex}', 1)">+</button>
                    </div>
                `;
                divCombo.onclick = () => seleccionarComboAlmuerzo(sopa, sopaIndex);
                container.appendChild(divCombo);
                
                cantidades['combo-almuerzo-' + sopaIndex] = 1;
            });
        }

        // Funciones de selecci√≥n
        function seleccionarBandejaDesayuno(tipo) {
            const huevo = document.getElementById(`huevo-select-${tipo}`).value;
            const carne = document.getElementById(`carne-select-${tipo}`).value;
            
            if (!huevo || !carne) {
                alert('Por favor selecciona el tipo de huevo y carne');
                return;
            }
            
            if (tipo === 'bebida') {
                const container = document.getElementById('bebida-bandeja-desayuno');
                const selectedIndex = container.dataset.selectedBebida;
                
                if (selectedIndex === undefined) {
                    alert('Por favor selecciona una bebida');
                    return;
                }
                
                const bebida = menuData.bebidas[selectedIndex];
                const cantidad = cantidades['bandeja-desayuno-bebida'] || 1;
                
                agregarItem(
                    'Bandeja de Desayuno + Bebida',
                    menuData.precios.bandejaDesayunoBebida,
                    'Bandeja',
                    `${huevo} + ${carne} | Bebida: ${bebida}`,
                    cantidad
                );
                
                // Resetear
                container.dataset.selectedBebida = undefined;
                container.querySelectorAll('.bebida-option').forEach(opt => opt.classList.remove('selected'));
            } else {
                const cantidad = cantidades['bandeja-desayuno-solo'] || 1;
                agregarItem(
                    'Bandeja de Desayuno',
                    menuData.precios.bandejaDesayunoSolo,
                    'Bandeja',
                    `${huevo} + ${carne}`,
                    cantidad
                );
            }
            
            // Resetear selecciones y cantidad
            document.getElementById(`huevo-select-${tipo}`).value = '';
            document.getElementById(`carne-select-${tipo}`).value = '';
            cantidades[`bandeja-desayuno-${tipo}`] = 1;
            document.getElementById(`cantidad-bandeja-desayuno-${tipo}`).textContent = '1';
        }

        function seleccionarBandejaAlmuerzo(tipo) {
            const principio = document.getElementById(`principio-select-${tipo}`).value;
            const proteina = document.getElementById(`proteina-select-${tipo}`).value;
            
            if (!principio || !proteina) {
                alert('Por favor selecciona el principio y la prote√≠na');
                return;
            }
            
            if (tipo === 'bebida') {
                const container = document.getElementById('bebida-bandeja-almuerzo');
                const selectedIndex = container.dataset.selectedBebida;
                
                if (selectedIndex === undefined) {
                    alert('Por favor selecciona una bebida');
                    return;
                }
                
                const bebida = menuData.bebidas[selectedIndex];
                const cantidad = cantidades['bandeja-almuerzo-bebida'] || 1;
                
                agregarItem(
                    'Bandeja de Almuerzo + Bebida',
                    menuData.precios.bandejaAlmuerzoBebida,
                    'Bandeja',
                    `${principio} + ${proteina} | Bebida: ${bebida}`,
                    cantidad
                );
                
                // Resetear
                container.dataset.selectedBebida = undefined;
                container.querySelectorAll('.bebida-option').forEach(opt => opt.classList.remove('selected'));
            } else {
                const cantidad = cantidades['bandeja-almuerzo-solo'] || 1;
                agregarItem(
                    'Bandeja de Almuerzo',
                    menuData.precios.bandejaAlmuerzoSolo,
                    'Bandeja',
                    `${principio} + ${proteina}`,
                    cantidad
                );
            }
            
            // Resetear selecciones y cantidad
            document.getElementById(`principio-select-${tipo}`).value = '';
            document.getElementById(`proteina-select-${tipo}`).value = '';
            cantidades[`bandeja-almuerzo-${tipo}`] = 1;
            document.getElementById(`cantidad-bandeja-almuerzo-${tipo}`).textContent = '1';
        }

        function seleccionarComboDesayuno(caldo, index) {
            const huevo = document.getElementById(`huevo-combo-${index}`).value;
            const carne = document.getElementById(`carne-combo-${index}`).value;
            
            if (!huevo || !carne) {
                alert('Por favor selecciona el tipo de huevo y carne para la bandeja');
                return;
            }
            
            const cantidad = cantidades['combo-desayuno-' + index] || 1;
            
            agregarItem(
                `COMBO: ${caldo} + Bandeja`,
                menuData.precios.comboDesayuno,
                'Combo',
                `Caldo: ${caldo} | Bandeja: ${huevo} + ${carne}`,
                cantidad
            );
            
            // Resetear
            document.getElementById(`huevo-combo-${index}`).value = '';
            document.getElementById(`carne-combo-${index}`).value = '';
            cantidades['combo-desayuno-' + index] = 1;
            document.getElementById('cantidad-combo-desayuno-' + index).textContent = '1';
        }

        function seleccionarComboAlmuerzo(sopa, index) {
            const principio = document.getElementById(`principio-combo-${index}`).value;
            const proteina = document.getElementById(`proteina-combo-${index}`).value;
            
            if (!principio || !proteina) {
                alert('Por favor selecciona el principio y la prote√≠na para la bandeja');
                return;
            }
            
            const cantidad = cantidades['combo-almuerzo-' + index] || 1;
            
            agregarItem(
                `COMBO: ${sopa} + Bandeja`,
                menuData.precios.comboAlmuerzo,
                'Combo',
                `Sopa: ${sopa} | Bandeja: ${principio} + ${proteina}`,
                cantidad
            );
            
            // Resetear
            document.getElementById(`principio-combo-${index}`).value = '';
            document.getElementById(`proteina-combo-${index}`).value = '';
            cantidades['combo-almuerzo-' + index] = 1;
            document.getElementById('cantidad-combo-almuerzo-' + index).textContent = '1';
        }

        // Actualizar todos los men√∫s principales
        function actualizarMenusPrincipales() {
            renderizarCaldos();
            renderizarSopas();
            renderizarBandejasDesayuno();
            renderizarBandejasAlmuerzo();
            renderizarCombosDesayuno();
            renderizarCombosAlmuerzo();
        }

        // Funciones principales del pedido
        function agregarItem(nombre, precio, categoria = '', descripcion = '', cantidad = 1) {
            const itemExistente = pedidoActual.find(item => 
                item.nombre === nombre && item.descripcion === descripcion
            );
            
            if (itemExistente) {
                itemExistente.cantidad += cantidad;
            } else {
                pedidoActual.push({
                    nombre: nombre,
                    precio: precio,
                    cantidad: cantidad,
                    categoria: categoria,
                    descripcion: descripcion || ''
                });
            }
            
            actualizarPedido();
        }

        function actualizarPedido() {
            const container = document.getElementById('pedidoItems');
            container.innerHTML = '';
            
            let total = 0;
            
            pedidoActual.forEach((item, index) => {
                const subtotal = item.precio * item.cantidad;
                total += subtotal;
                
                const div = document.createElement('div');
                div.className = 'pedido-item';
                div.innerHTML = `
                    <div class="pedido-info">
                        <strong>${item.nombre}</strong>
                        ${item.descripcion ? `<br><small style="color: #666;">${item.descripcion}</small>` : ''}
                        <br><small>${item.precio.toLocaleString()} x ${item.cantidad}</small>
                    </div>
                    <div class="pedido-actions">
                        <strong>${subtotal.toLocaleString()}</strong>
                        <button class="delete-btn" onclick="eliminarItem(${index})">√ó</button>
                    </div>
                `;
                container.appendChild(div);
            });
            
            document.getElementById('totalPedido').textContent = total.toLocaleString();
        }

        function eliminarItem(index) {
            pedidoActual.splice(index, 1);
            actualizarPedido();
        }

        function limpiarPedido() {
            if (pedidoActual.length === 0) {
                alert('No hay items en el pedido');
                return;
            }
            
            if (confirm('¬øEst√°s seguro de limpiar el pedido actual?')) {
                pedidoActual = [];
                actualizarPedido();
            }
        }

        function confirmarPedido() {
            if (pedidoActual.length === 0) {
                alert('No hay items en el pedido');
                return;
            }
            
            const mesa = document.getElementById('mesaSelect').value;
            const mesero = document.getElementById('meseroNombre').value || 'Mesero';
            const fecha = document.getElementById('fecha').value;
            const hora = document.getElementById('hora').value;
            
            const total = pedidoActual.reduce((sum, item) => sum + (item.precio * item.cantidad), 0);
            
            const venta = {
                id: Date.now(),
                mesa: mesa,
                mesero: mesero,
                fecha: fecha,
                hora: hora,
                items: [...pedidoActual],
                total: total
            };
            
            ventas.push(venta);
            totalDia += total;
            
            actualizarVentas();
            limpiarPedido();
            
            alert(`‚úÖ Pedido confirmado\n\nMesa ${mesa}\nTotal: ${total.toLocaleString()}`);
        }

        function actualizarVentas() {
            document.getElementById('totalDia').textContent = totalDia.toLocaleString();
            document.getElementById('totalPedidos').textContent = ventas.length;
            
            const container = document.getElementById('listaPedidos');
            container.innerHTML = '';
            
            ventas.forEach((venta, index) => {
                const div = document.createElement('div');
                div.className = 'venta-item';
                div.innerHTML = `
                    <div class="venta-info">
                        <strong>Mesa ${venta.mesa} - ${venta.total.toLocaleString()}</strong><br>
                        <small>${venta.fecha} ${venta.hora} - ${venta.mesero}</small><br>
                        <small>${venta.items.map(item => {
                            let texto = `${item.nombre}`;
                            if (item.cantidad > 1) texto += ` x${item.cantidad}`;
                            return texto;
                        }).join(', ')}</small>
                    </div>
                    <div class="venta-actions">
                        <button class="btn btn-small btn-secondary" onclick="verDetalle(${index})">Ver</button>
                        <button class="btn btn-small btn-danger" onclick="eliminarVenta(${index})">Eliminar</button>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function verDetalle(index) {
            const venta = ventas[index];
            let detalle = `DETALLE DEL PEDIDO\n${'='.repeat(30)}\n\n`;
            detalle += `Mesa: ${venta.mesa}\n`;
            detalle += `Mesero: ${venta.mesero}\n`;
            detalle += `Fecha: ${venta.fecha} ${venta.hora}\n\n`;
            detalle += `ITEMS:\n${'-'.repeat(30)}\n`;
            
            venta.items.forEach(item => {
                detalle += `‚Ä¢ ${item.nombre}`;
                if (item.descripcion) detalle += `\n  (${item.descripcion})`;
                detalle += `\n  ${item.cantidad} x ${item.precio.toLocaleString()} = ${(item.precio * item.cantidad).toLocaleString()}\n\n`;
            });
            
            detalle += `${'='.repeat(30)}\n`;
            detalle += `TOTAL: ${venta.total.toLocaleString()}`;
            
            alert(detalle);
        }

        function eliminarVenta(index) {
            if (confirm('¬øEst√°s seguro de eliminar esta venta?')) {
                totalDia -= ventas[index].total;
                ventas.splice(index, 1);
                actualizarVentas();
            }
        }

        function limpiarVentas() {
            if (ventas.length === 0) {
                alert('No hay ventas para limpiar');
                return;
            }
            
            if (confirm('¬øEst√°s seguro de limpiar TODAS las ventas del d√≠a?\n\nEsta acci√≥n no se puede deshacer.')) {
                ventas = [];
                totalDia = 0;
                actualizarVentas();
                alert('Todas las ventas han sido eliminadas');
            }
        }

        // Actualizar hora cada minuto
        setInterval(() => {
            document.getElementById('hora').value = new Date().toTimeString().split(' ')[0].substring(0, 5);
        }, 60000);
    </script>
</body>
</html>